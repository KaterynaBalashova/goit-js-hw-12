{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport function getImagesByQuery(query, page) {\n    const API_KEY = \"50818793-d0305411d1a3093dc980e97a9\";\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        page: page,\n        per_page: 15,\n    });\n    \n    return axios(`https://pixabay.com/api/?${params}`)\n    .then(response => response.data)\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryList = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\nconst loadBtn = document.querySelector(\".load-btn\");\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n    captionDelay: 250,\n    captionPosition: \"bottom\",\n    captionsData: \"alt\"\n})\n\nexport function createGallery(images) {\n    const markUp = images.map(item => `\n        <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n        <img\n        class=\"gallery-img\"\n        src=\"${item.webformatURL}\"\n        alt=\"${item.tags}\"\n        width=\"360\" />\n        </a>\n        <div class=\"descr\">\n       <p class=\"descr-label\">Likes <span class=\"descr-span\">${item.likes}</span></p>\n       <p class=\"descr-label\">Views <span class=\"descr-span\">${item.views}</span></p>\n       <p class=\"descr-label\">Comments <span class=\"descr-span\">${item.comments}</span></p>\n       <p class=\"descr-label\">Downloads <span class=\"descr-span\">${item.downloads}</span></p>\n       </div>\n        </li>\n        `).join(\"\");\n    \n        galleryList.innerHTML = markUp;\n        lightbox.refresh();\n};\n\nexport function clearGallery() {\n    galleryList.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n    loader.style.display = 'none';\n}\n\nexport function showLoadMoreButton(){\n    loadBtn.style.display = \"block\";\n}\n\nexport function hideLoadMoreButton() {\n    loadBtn.style.display = 'none';\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader, showLoadMoreButton, hideLoadMoreButton } from \"./js/render-functions\";\n\nconst formEl = document.querySelector(\".form\");\nconst inputEl = document.querySelector(\"input\");\n\nformEl.addEventListener(\"submit\", handleSubmit);\n\nhideLoadMoreButton();\nlet currentPage = 1;\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    const query = inputEl.value.toLowerCase().trim();\n    if (!query) return;\n    currentPage = 1;\n    clearGallery();\n    showLoader();\n    getImagesByQuery(query, currentPage)\n        .then(data => {\n            if (data.hits.length > 0) {\n                createGallery(data.hits);\n                inputEl.value = \"\";\n                currentPage += 1;\n                showLoadMoreButton();\n            } else {\n                iziToast.error({\n                    title: \"Error\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\",\n                });\n            };\n        })\n        .catch(error => {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Something went wrong. Please, try again!\",\n                position: \"topRight\",\n            });\n        })\n        .finally(() => hideLoader()); \n};\n"],"names":["getImagesByQuery","query","page","API_KEY","params","axios","response","galleryList","loader","loadBtn","lightbox","SimpleLightbox","createGallery","images","markUp","item","clearGallery","showLoader","hideLoader","showLoadMoreButton","hideLoadMoreButton","formEl","inputEl","handleSubmit","currentPage","event","data","iziToast","error"],"mappings":"+vBAEO,SAASA,EAAiBC,EAAOC,EAAM,CAC1C,MAAMC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAU,EAClB,CAAK,EAED,OAAOG,EAAM,4BAA4BD,CAAM,EAAE,EAChD,KAAKE,GAAYA,EAAS,IAAI,CACnC,CCdA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,gBAAiB,SACjB,aAAc,KAClB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAIE,GAAQ;AAAA;AAAA,wCAEEA,EAAK,aAAa;AAAA;AAAA;AAAA,eAG3CA,EAAK,YAAY;AAAA,eACjBA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,+DAIuCA,EAAK,KAAK;AAAA,+DACVA,EAAK,KAAK;AAAA,kEACPA,EAAK,QAAQ;AAAA,mEACZA,EAAK,SAAS;AAAA;AAAA;AAAA,SAGxE,EAAE,KAAK,EAAE,EAEVR,EAAY,UAAYO,EACxBJ,EAAS,QAAO,CACxB,CAEO,SAASM,GAAe,CAC3BT,EAAY,UAAY,EAC5B,CAEO,SAASU,GAAa,CACzBT,EAAO,MAAM,QAAU,OAC3B,CAEO,SAASU,GAAa,CACzBV,EAAO,MAAM,QAAU,MAC3B,CAEO,SAASW,GAAoB,CAChCV,EAAQ,MAAM,QAAU,OAC5B,CAEO,SAASW,GAAqB,CACjCX,EAAQ,MAAM,QAAU,MAC5B,CC/CA,MAAMY,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAU,SAAS,cAAc,OAAO,EAE9CD,EAAO,iBAAiB,SAAUE,CAAY,EAE9CH,IACA,IAAII,EAAc,EAElB,SAASD,EAAaE,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMxB,EAAQqB,EAAQ,MAAM,YAAa,EAAC,KAAI,EACzCrB,IACLuB,EAAc,EACdR,IACAC,IACAjB,EAAiBC,EAAOuB,CAAW,EAC9B,KAAKE,GAAQ,CACNA,EAAK,KAAK,OAAS,GACnBd,EAAcc,EAAK,IAAI,EACvBJ,EAAQ,MAAQ,GAChBE,GAAe,EACfL,KAEAQ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EAER,EACA,MAAMC,GAAS,CACZD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2CACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAMT,EAAU,CAAE,EACnC"}